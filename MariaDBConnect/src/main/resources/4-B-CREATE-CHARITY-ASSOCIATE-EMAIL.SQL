ALTER TABLE CHARITY_ASSOCIATE_EMAIL
    DROP INDEX IF EXISTS CHARITY_ASSOCIATE_EMAIL_PK;

DROP TABLE IF EXISTS CHARITY_ASSOCIATE_EMAIL;

CREATE TABLE CHARITY_ASSOCIATE_EMAIL
(
    CHARITY_ASSOCIATE_EMAIL_ID       MEDIUMINT    NOT NULL AUTO_INCREMENT,
    CHARITY_ASSOCIATE_ID             MEDIUMINT, -- FOREIGN KEY
    CHARITY_ASSOCIATE_EMAIL_PRIORITY MEDIUMINT,
    CHARITY_ASSOCIATE_EMAIL_EMAIL    VARCHAR(250) NOT NULL,
    PRIMARY KEY (CHARITY_ASSOCIATE_EMAIL_ID)
);

CREATE UNIQUE INDEX CHARITY_ASSOCIATE_EMAIL_PK ON CHARITY_ASSOCIATE_EMAIL (CHARITY_ASSOCIATE_EMAIL_ID);

ALTER TABLE `CHARITY_ASSOCIATE_EMAIL`
    ADD CONSTRAINT `FK_CHARITY_ASSOCIATE_ID_EMAIL` FOREIGN KEY (`CHARITY_ASSOCIATE_ID`)
        REFERENCES `CHARITY_ASSOCIATE` (`CHARITY_ASSOCIATE_ID`) #
        ON DELETE RESTRICT
        ON UPDATE CASCADE;
