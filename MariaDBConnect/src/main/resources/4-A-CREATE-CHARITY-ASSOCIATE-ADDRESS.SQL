ALTER TABLE `CHARITY_ASSOCIATE_ADDRESS`
    DROP FOREIGN KEY IF EXISTS `FK_CHARITY_ASSOCIATE_ADDRESS`;

DROP TABLE IF EXISTS `CHARITY_ASSOCIATE_ADDRESS`;

CREATE TABLE `CHARITY_ASSOCIATE_ADDRESS`
(
    `CHARITY_ASSOCIATE_ADDRESS_ID`                           MEDIUMINT NOT NULL AUTO_INCREMENT,
    `CHARITY_ASSOCIATE_ID`                                   MEDIUMINT NOT NULL,
    `CHARITY_ASSOCIATE_CHARITY_ASSOCIATE_ADDRESS_LINE1`      VARCHAR(60),
    `CHARITY_ASSOCIATE_CHARITY_ASSOCIATE_ADDRESS_LINE2`      VARCHAR(60),
    `CHARITY_ASSOCIATE_CITY`                                 VARCHAR(60),
    `CHARITY_ASSOCIATE_POSTAL_CODE`                          VARCHAR(10),
    `CHARITY_ASSOCIATE_CHARITY_ASSOCIATE_ADDRESS_START_DATE` DATE,
    `CHARITY_ASSOCIATE_CHARITY_ASSOCIATE_ADDRESS_END_DATE`   DATE,
    PRIMARY KEY (`CHARITY_ASSOCIATE_ADDRESS_ID`)
);

CREATE UNIQUE INDEX CHARITY_ASSOCIATE_ADDRESS_PK ON CHARITY_ASSOCIATE_ADDRESS (CHARITY_ASSOCIATE_ADDRESS_ID);

ALTER TABLE `CHARITY_ASSOCIATE_ADDRESS`
    ADD CONSTRAINT `FK_CHARITY_ASSOCIATE_ADDRESS` FOREIGN KEY (`CHARITY_ASSOCIATE_ID`)
        REFERENCES `CHARITY_ASSOCIATE` (`CHARITY_ASSOCIATE_ID`) #
        ON DELETE RESTRICT
        ON UPDATE CASCADE;
